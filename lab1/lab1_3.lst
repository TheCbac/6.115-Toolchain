     1  0000 759000 mov P1, #00h ; Clear LED bank
     2              main:
     3  0003 750001   mov 0, #01h
     4  0006 C3       clr c
     5  0007 E501     mov A, 1
     6                init:
     7  0009 4290       orl P1, A
     8  000B 33         rlc a
     9  000C D500FA     djnz 0, init
    10  000F 80F2     sjmp main
    11                  
    12              loop:
    13  0011 120022   lcall next
    14  0014 75000F   mov 0, #0Fh
    15                begin:
    16  0017 7480       mov A, #80h 
    17  0019 2500       add A, 0  ; Accumulator holds address of current led's PWM value
    18  001B F501       mov 1, A  ; Move accumulator value into R1
    19                      ;mov 1, @1 ; Move PWM value into R1
    20                      ;If zero, turn off current led
    21                  
    22                      ;else turn on
    23  001D D500F7     djnz 0, begin
    24                  
    25                  
    26                  
    27                  
    28                  
    29  0020 80EF     sjmp loop
    30                  
    31              next:
    32                  
    33                  
    34  0022 22       ret
    35              delay:
    36  0023 750299   mov 2, #99h
    37                dtop:
    38  0026 00       nop
    39  0027 00       nop
    40  0028 00       nop
    41  0029 00       nop
    42  002A DAFA       djnz R2,dtop
    43                  
    44  002C 22       ret


